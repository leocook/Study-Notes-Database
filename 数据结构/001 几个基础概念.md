# 几个基础概念

## 二叉树

在数据结构中，二叉树的每个结点最多有两个子结点，叶子节点无子节点。两个子结点有左右之分，左边的被称为左子树，右边的被称为右子树。关于二叉树的一些术语如下：

* 树的结点

包含一个数据元素及若干子树的结点；

* 孩子结点

结点的子树的根称为该结点的孩子结点；

* 双亲结点

B 结点是A 结点的孩子，则A结点是B 结点的双亲，也有人称之为父结点；

* 兄弟结点

同一双亲的孩子结点；

* 堂兄结点

同一层上结点；

* 结点的层

根结点的层定义为1，根的孩子为第二层结点，依此类推；

* 树的深度

树中最大的结点层；

* 结点的度

结点子树的个数

* 树的度

树中最大的结点度；

* 叶子结点

也叫终端结点，是度为 0 的结点；

* 分枝结点

度不为0的结点；

* 有序树

子树有序的树，如：家族树；

* 无序树

不考虑子树的顺序，所有节点的值无顺序规律可寻；

二叉树有下面这几个特征：

* 第i层最多有2^{i-1}个节点；
* 一棵深度为k的二叉树，最多能有2^k-1个节点；
* 对于任意一棵二叉树，如果其叶结点数为a，而度数为2的结点总数为b，则`a=b+1`；
* 给定N个节点，能构成h\(N\)种不同的二叉树；

* 设有i个枝点，I为所有枝点的道路长度总和，J为叶的道路长度总和J=I+2i。

## 满二叉树

一棵深度为k，且有2^k-1个节点的二叉树，称之为满二叉树，即每个非叶子节点都有2个子节点。

## 完全二叉树

若设二叉树的深度为h，除第 h 层外，其它各层 \(1～h-1\) 的结点数都达到最大个数，且第 h 层所有的结点都连续集中在最左边，这就是完全二叉树。

有N个节点完全二叉树的深度为log2{N+1}。

## 二叉查找树

二叉查找树即：Binary Search Tree。又称为有序二叉树（ordered binary tree）、排序二叉树（sorted binary tree）。查找是基于数据是有序的，所以该二叉树是已经被排序的，节点的值是有序的。

二叉查找树具有下边几个特性：

* 若任意结点的左子树不空，则左子树上所有结点的值均小于它的根结点的值；

* 若任意结点的右子树不空，则右子树上所有结点的值均大于它的根结点的值；

* 任意结点的左、右子树也分别为二叉查找树；

* 没有键值相等的结点（no duplicate nodes）。

N个结点构建的二叉查找树高度为lgn，所以一般情况下查找的时间复杂度为O\(lgn\)。但是当一棵二叉查找树退化为一个包含N个结点的线性链后，查找的复杂度就是O\(N\)了。

为了避免二叉树退化为线性链结构，就此衍生出了平衡二叉树。下面将会详细介绍。

## 平衡二叉树

平衡二叉树（Self-balancing binary search tree）又被称为AVL树（有别于AVL算法），且具有以下性质：它是一棵空树或它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树。正是这种不断的平衡，才让查找的复杂度一直保持在O\(lgn\)。

平衡二叉树的常用实现方法有红黑树、AVL、替罪羊树、Treap、伸展树等。 最小二叉平衡树的节点数的公式如下：

`F(n)=F(n-1)+F(n-2)+1`

这个类似于一个递归的数列，可以参考Fibonacci\(斐波那契\)数列，1是根节点，F\(n-1\)是左子树的节点数量，F\(n-2\)是右子树的节点数量。

### 红黑树

其实红黑树的本质就是一棵二叉查找树。但是他在二叉树的基础上增加了着色等相关的特性，从而保证了红黑树的查找、增加和删除的时间复杂度最差也是O\(log N\)。

红黑树是如何保证一棵n个节点的红黑树高度始终在logN呢？主要还是引用了下面这5个特性：

> 1. 每个节点都有颜色，要么是红的、要么是黑的；
> 2. 根节点是黑的；
> 3. 每个叶子节点是黑的，叶子节点是树的尾端NIL节点或者NULL节点；
> 4. 每个红节点都必须要有两个黑色的子节点（即：从每个叶子到根的所有路径上不能有两个连续的红色节点）；
> 5. 从任一节点到每个叶子节点所经过的黑色节点数都相同。



